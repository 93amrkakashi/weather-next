(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();var x={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\Administrator\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_8304_GEHMQTGWALJGHLVF",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WIN-IMQ6SRA8HRM",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\Administrator\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",GOOGLE_KEY:"AIzaSyDjjZzMmPfqAB8xbfhXhr2yiEaJ8n5EiDg",HOME:"C:\\Users\\Administrator",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Administrator",INIT_CWD:"C:\\Users\\Administrator\\Desktop\\kk\\weather-vite",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Administrator\\AppData\\Local",LOGONSERVER:"\\\\WIN-IMQ6SRA8HRM",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Administrator\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Administrator\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Administrator\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Administrator\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Administrator\\Desktop\\kk\\weather-vite",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.1.0",npm_config_prefix:"C:\\Users\\Administrator\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Administrator\\.npmrc",npm_config_user_agent:"npm/10.1.0 node/v20.9.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Administrator\\Desktop\\kk\\weather-vite\\package.json",npm_package_name:"kk",npm_package_version:"0.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"2",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\Administrator\\Desktop\\kk\\weather-vite\\node_modules\\.bin;C:\\Users\\Administrator\\Desktop\\kk\\node_modules\\.bin;C:\\Users\\Administrator\\Desktop\\node_modules\\.bin;C:\\Users\\Administrator\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk;C:\\Program Files\\nodejs\\;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\;C:\\Users\\Administrator\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk;C:\\Users\\Administrator\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 15 Model 6 Stepping 5, GenuineIntel",PROCESSOR_LEVEL:"15",PROCESSOR_REVISION:"0605",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ADMINI~1\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.84.2",TMP:"C:\\Users\\ADMINI~1\\AppData\\Local\\Temp",USERDOMAIN:"WIN-IMQ6SRA8HRM",USERDOMAIN_ROAMINGPROFILE:"WIN-IMQ6SRA8HRM",USERNAME:"Administrator",USERPROFILE:"C:\\Users\\Administrator",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Administrator\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-733ec00dfa-sock",WEATHER_KEY:"bd5e378503939ddaee76f12ad7a97608",windir:"C:\\Windows"};const U=x.WEATHER_KEY,k=x.GOOGLE_KEY;function F(){const t=document.createElement("script");t.src=`https://maps.googleapis.com/maps/api/js?key=${k}&callback=initMap`,t.defer=!0,document.head.appendChild(t)}window.initMap=function(){const t=document.getElementById("googleMap"),e=new google.maps.Map(t,{center:{lat:33.8869,lng:9.5375},zoom:8});google.maps.event.addListener(e,"click",async function(o){const a=o.latLng.lat(),n=o.latLng.lng(),r=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${n}`;try{const s=await fetch(r);if(!s.ok)throw new Error(`Failed to fetch location data: ${s.status}`);const u=(await s.json()).address.county;let y=localStorage.getItem("lang");await d(a,n,y),g.innerText=u;const C=new google.maps.Marker({position:{lat:a,lng:n},map:e,title:`الطقس في ${a}, ${n}`})}catch(s){console.error("error",s)}})};F();const g=document.querySelector(".city_name"),v=document.getElementById("footerText"),N=new Date().getFullYear();v.textContent=`meteo-Tunisie.net © ! أفضل معلومات الطقس. ${N}!`;const h=document.getElementById("searchResults"),i=document.querySelector("body"),W=document.querySelector("#navbar-toggle"),P=document.querySelector("#navbar-collapse"),$=["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],j=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],H=new URL(window.location.href),m=G(H);new Date().getDay();W.onclick=()=>{P.classList.toggle("hidden"),P.classList.toggle("flex")};function w(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){const e=t.coords.latitude,o=t.coords.longitude;console.log("Latitude:",e),console.log("Longitude:",o);let a=localStorage.getItem("lang");d(e,o,a)},function(t){console.error("err",t.message)}):console.error("wrong")}function G(t){const e=new URLSearchParams(t.search),o=e.get("lat"),a=e.get("lng"),n=e.get("city");return{lat:o,lng:a,city:n}}const B=document.getElementById("searchInput");B.addEventListener("input",function(){const t=this.value;if(!t.length<=0){const e=V(t);K(e)}else h.style.display="none"});function V(t){t=t.toLowerCase();let e=localStorage.getItem("lang");const o=e==="ar"?4:6;return e=="ar"?l.filter(a=>a.city.toLowerCase().slice(o).includes(t)):c.filter(a=>a.city.toLowerCase().slice(o).includes(t))}function K(t){console.log(t),h.innerHTML="",t.forEach(e=>{const o=document.createElement("li");o.innerHTML=`
    <a href="./index.html?lat=${e.lat}&lng=${e.lng}&city=${e.city}"
    class="inline-block w-full  result_item" >
    ${e.city}
    </a>`,h.appendChild(o)}),h.style.display=t.length>0?"flex":"none"}const R=document.getElementById("languageSelect");R.addEventListener("change",function(){I(this)});let I=function(e){const o=e.value||localStorage.getItem("lang")||"ar";console.log(o),document.documentElement.lang=o,localStorage.setItem("lang",o),document.querySelectorAll("[data-translation]").forEach(n=>{const r=n.dataset.translation;n.textContent=A[o][r]||""}),D(o),m!=null?O(o):w()};async function d(t,e,o){try{o=localStorage.getItem("lang");const a=o=="ar"?$:j,n=U,r="metric",s=o=="ar"?`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${e}&appid=${n}&units=${r}&lang=ar`:`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${e}&appid=${n}&units=${r}&lang=fr`,p=await fetch(s);if(!p.ok){const S=document.querySelector(".tol");throw S.innerHTML="errrrrrrrrrrr",new Error(`Failed to fetch weather data: ${p.status}`)}const u=await p.json(),y=document.querySelector(".tol");y.innerHTML="",a.forEach((S,b)=>{const _=u.daily[b],E=document.createElement("div");E.classList.add("flex",`${o=="ar"?".":"flex-row-reverse"}`,"justify-around","items-center","w-[300px]","gap-2","h-[55px]"),E.innerHTML=`
        <p class="text-xl text-black font-bold">${S}</p>
        <img src="http://openweathermap.org/img/wn/${_.weather[0].icon}@4x.png"
          class="w-[70px] h-[70ox] mx-4 " alt="${_.weather[0].description}"
        />
        <p dir="rtl" class=" text-black text-bold text-lg font-bold">${_.temp.max}&deg;</p>
        <p dir="rtl" class=" text-black text-bold text-md font-md">${_.temp.min}&deg;</p>
      `,y.appendChild(E)});const C=document.querySelector(".ariana_con");C.innerHTML="";const f=u.daily[0],T=`
      <h3 class="font-bold text-2xl md:text-4xl font-md">${f.weather[0].description}</h3>
      <p dir="rtl" class="font-bold text-2xl md:text-4xl font-md">${f.temp.max}&deg;C</p>
      <p class="text-xl font-bold">${new Date(f.dt*1e3).toLocaleDateString("fr-FR")}</p>
    `;C.innerHTML+=T,document.querySelector(".img").src=`http://openweathermap.org/img/wn/${f.weather[0].icon}@4x.png`}catch(a){console.error("err",a);const n=document.querySelector(".ariana_con"),r=document.querySelector(".tol");let s=o=="ar"?`
    <div class="w-full font-bold text-2xl text-center flex flex-col justify-center items-center ">
      <p >حدث خطأ ولم نتمكن من جلب البيانات</p>
      <p>رجاء اعد تحميل الصفحة</p>
      <p>اذا استمرت المشكلة فتواصل معنا</p>
  </div>`:`
    <div class="w-full font-bold text-2xl text-center flex flex-col justify-center items-center ">
      <p > Une erreur s'est produite et nous n'avons pas pu récupérer les données</p>
      <p>Veuillez recharger la page & Si le problème persiste, contactez-nous</p>
  </div>`;r.innerHTML=s,n.innerHTML=s}}async function q(t){t.preventDefault();const e=t.currentTarget.getAttribute("data-lat"),o=t.currentTarget.getAttribute("data-lng"),a=t.currentTarget.getAttribute("data-city");await d(e,o),g.innerText=a}function D(t){const e=document.getElementById("citiesList");e.innerHTML="",(t==="ar"?l:c).forEach(a=>{const n=document.createElement("a");n.href="#",n.id="city",n.className="bg-gray-50 m-auto flex justify-center items-center font-bold h-[50px] border-2 rounded-lg text-center text-sm md:text-base w-[100px] md:w-[150px] py-1 px-2",n.dataset.lat=a.lat,n.dataset.lng=a.lng,n.dataset.city=a.city;const r=document.createElement("span");r.className="w-full text-black",r.textContent=a.city,n.appendChild(r),n.addEventListener("click",q),e.appendChild(n)})}function O(t){if(t==="ar"){const e=Math.floor(Math.random()*l.length);return d(l[e].lat,l[e].lng,t),g.innerText=l[e].city,l[e]}else{const e=Math.floor(Math.random()*c.length);return d(c[e].lat,c[e].lng,t),g.innerText=c[e].city,l[e]}}let A={};async function z(){try{const t=await fetch("./locales/translations.json");if(!t.ok)throw new Error(`Failed to load translations: ${t.status}`);A=await t.json();let e=localStorage.getItem("lang")||"ar";I(e),console.log(A)}catch(t){console.error("Error loading translations:",t)}}const J=document.querySelector(".theme_toggler");J.addEventListener("click",X);let L=document.querySelectorAll(".glass");function M(t){t=="dark"?L.forEach(function(e){e.classList.add("glass_dark"),e.classList.remove("glass_light")}):L.forEach(function(e){e.classList.add("glass_light"),e.classList.remove("glass_dark")})}M(localStorage.getItem("theme"));function X(){i.classList.contains("light")?(i.classList.add("dark"),i.classList.remove("light"),localStorage.setItem("theme","dark"),M("dark")):(i.classList.add("light"),i.classList.remove("dark"),localStorage.setItem("theme","light"),M("light"))}document.addEventListener("DOMContentLoaded",async function(){let t=localStorage.getItem("lang")||"ar",e=localStorage.getItem("theme")||"light";i.classList.add(e),D(t),t&&(R.value=t),await z(),await O(t),await w(),m.lat!=null&&(d(m.lat,m.lng,t),g.innerText=m.city)});let l=[{city:" طقس أريانة",lat:36.8587351,lng:10.188232},{city:"طقس القصرين",lat:35.1687646,lng:8.8365654},{city:"طقس القيروان",lat:35.6710101,lng:10.10062},{city:"طقس الكاف",lat:36.153639999999996,lng:8.608292440571825},{city:"طقس المنستير",lat:35.7707582,lng:10.8280511},{city:"طقس المهدية",lat:35.5042799,lng:11.06858500822606},{city:"طقس باجة",lat:36.7236241,lng:9.1853919},{city:"طقس بن عروس",lat:36.63064825,lng:10.210082703817534},{city:"طقس بنزرت",lat:37.2720905,lng:9.8708565},{city:"طقس تطاوين",lat:32.9315727,lng:10.450413},{city:"طقس توزر",lat:33.984410499999996,lng:8.07113085067842},{city:"طقس تونس",lat:33.8439408,lng:9.400138},{city:"طقس جندوبة",lat:36.4968705,lng:8.7763973},{city:"طقس زغوان",lat:36.3994751,lng:10.1446349},{city:"طقس سليانة",lat:36.0846651,lng:9.3743733},{city:"طقس سوسة",lat:35.8288175,lng:10.6405392},{city:"طقس سيدي بوزيد",lat:34.881181,lng:9.526359847182345},{city:"طقس صفاقس",lat:34.723238699999996,lng:10.335847425638779},{city:"طقس قابس",lat:33.7765032,lng:9.793062965576159},{city:"طقس قبلي",lat:33.7061148,lng:8.9698376},{city:"طقس قفصة",lat:34.43367,lng:8.79079875204918},{city:"طقس مدنين",lat:33.3434014,lng:10.4910703},{city:"طقس منوبة",lat:36.8128294,lng:10.091944256580737},{city:"طقس نابل",lat:36.4512897,lng:10.7355915}],c=[{city:"Météo Ariana",lat:36.8587351,lng:10.188232},{city:"Météo Beja",lat:35.1687646,lng:8.8365654},{city:"Météo Ben Arous",lat:35.6710101,lng:10.10062},{city:"Météo Bizerte",lat:36.153639999999996,lng:8.608292440571825},{city:"Météo Gabes",lat:35.7707582,lng:10.8280511},{city:"Météo Gafsa",lat:35.5042799,lng:11.06858500822606},{city:"Météo Jendouba",lat:36.7236241,lng:9.1853919},{city:"Météo Kairouan",lat:36.63064825,lng:10.210082703817534},{city:"Météo Kasserine",lat:37.2720905,lng:9.8708565},{city:"Météo Kebili",lat:32.9315727,lng:10.450413},{city:"Météo Kef",lat:33.984410499999996,lng:8.07113085067842},{city:"Météo Mahdia",lat:33.8439408,lng:9.400138},{city:"Météo Manouba",lat:36.4968705,lng:8.7763973},{city:"Météo Medenine",lat:36.3994751,lng:10.1446349},{city:"Météo Monastir",lat:36.0846651,lng:9.3743733},{city:"Météo Nabeul",lat:35.8288175,lng:10.6405392},{city:"Météo Sfax",lat:34.881181,lng:9.526359847182345},{city:"Météo Sidi Bouzid",lat:34.723238699999996,lng:10.335847425638779},{city:"Météo Siliana",lat:33.7765032,lng:9.793062965576159},{city:"Météo Sousse",lat:33.7061148,lng:8.9698376},{city:"Météo Tataouine",lat:34.43367,lng:8.79079875204918},{city:"Météo Tozeur",lat:33.3434014,lng:10.4910703},{city:"Météo Tunis",lat:36.8128294,lng:10.091944256580737},{city:"Météo Zaghouan",lat:36.4512897,lng:10.7355915}];
